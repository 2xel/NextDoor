<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybtis.orh//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="kr.co.nextdoor.alarm.dao.AlarmDAO">
  
  <!-- 알림 추가  -->
  	<insert id="insertAlarm">
  		insert into alarm(specifictask_no, alarm_sender, alarm_receiver, alarm_cont, alarm_date, alarm_read) values(#{specifictask_no},#{alarm_sender},#{alarm_receiver}, #{alarm_cont}, #{alarm_date}, '1')
  	</insert>
  	
  	<!-- 유저에 해당되는 알림 리스트  -->
	<select id="AlarmList" resultType="kr.co.nextdoor.alarm.dto.AlarmDTO" parameterType="String">
		SELECT * FROM alarm WHERE alarm_receiver=#{alarm_receiver}
	</select>
	
	<!-- 읽지 않음 알림 갯수 표시 -->
	<select id="CountAlarmList" resultType="int">
	select count(alarm_receiver) from alarm where ALARM_RECEIVER=#{user_id} and ALARM_READ='1';
	</select>
  	
  </mapper>