<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybtis.orh//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="kr.co.nextdoor.schedule.dao.FullcalendarDAO">
        <insert id="insertFullcalendarSpecificTask">
            INSERT
            INTO SPECIFICTASK(task_no,specifictask_cont,specifictask_comp) 
            VALUES(#{task_no}, #{specifictask_cont},'0')
        </insert>

       <insert id="insertFullcalendarSpecificModiTask" parameterType="hashMap">
			INSERT INTO SPECIFICTASKMODI(specifictask_no, member_id, specifictask_start, specifictask_end)
			VALUES( (SELECT specifictask_no from specifictask where task_no = #{task_no} and specifictask_cont = #{specifictask_cont}) , #{member_id}, #{specifictask_start}, #{specifictask_end})
	   	</insert>
	   	
	   	<select id="calendarList"  resultType="kr.co.nextdoor.specifictask.dto.SpecificTaskModiDTO"> 
	   		select member_id , specifictask_start , specifictask_end
	   		from specifictaskmodi 
	    </select>    
  </mapper>
