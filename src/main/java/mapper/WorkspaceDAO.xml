<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybtis.orh//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="kr.co.nextdoor.workspace.dao.WorkspaceDAO">
		<select id="workspacelist"  resultType="kr.co.nextdoor.workspace.dto.WorkspaceDTO">
			select distinct work.workspace_name, work.workspace_no
			from workspace work left join (select p.workspace_no, m.member_id 
			from project p join projectmember m
			on  p.project_no=m.project_no where m.member_id=#{member_id}) pro
			on work.workspace_no=pro.workspace_no
			where work.member_id=#{member_id} or pro.member_id=#{member_id} 
		</select>
		<insert id="workspaceinsert">
			insert into workspace(workspace_name, member_id) values(#{workspace_name}, #{member_id})
		</insert>
  </mapper>
  
